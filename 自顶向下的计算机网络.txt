										自顶向下的计算机网络
	第一章 基础概念
	描述因特网的两种方式：
	一、因特网具有什么样的硬件和软件结构组件；二、因特网是怎样作为分布式应用的载体和基础设施。核心就是网络运行的原理
是什么。
	网络是一组计算机连接在一起形成的一个统一体。单台计算机更合理的称谓是端系统，连接各个端系统的是通信链路和链路间的
分组交换机。通信链路具有多种物理媒介载体，如铜线和光纤等。端系统之间交换的数据是分段传输的，这样的信息分段被称为分组。
现在使用最广泛的分组交换机主要是路由器和链路层交换机。一个分组所经历的所有通信链路和分组交换机称为它所通过的网络的
路径。
	ISP是因特网服务提供商，是分层的商业机构，高层ISP的网络之间通过高速光纤链路连接。IETF是因特网工程任务组，负责网络
标准的制定，标准文档被称为RFC。因特网使用的两个最重要的协议是TCP和IP。
	另一种独立的网络被称为内联网络，用于公司或政府的内部网络。
	英特网提供一系列的数据传输模式，提供服务给应用程序，应用程序使用端系统（操作系统）提供的网络编程接口进行设计，实现
各自的数据传输需求。
	
	协议是什么？
	通信协议一套规则集合，定义了通信实体之间所交换数据的报文格式、次序，以及数据的发送、传输和接收时进行的处理逻辑。
	
	端系统进一步可以划分为客户机和服务器，更准确的说法是客户机程序和服务器程序，这是一种分布式程序的结构。另一种分布式
方案是对等设计，即P2P，端系统程序既是客户机程序，又是服务器程序，既使用所连接端系统提供的服务，也对外提供服务。
	
	如何连接到边缘路由器？
	传统住宅接入：使用传统电话线作为传输媒介，端系统发送的数据经过调制解调器转换为模拟信号，边缘路由器接收数据前先使用
调制解调器将接收到的模拟信号转换为数字信号再进行处理。
	新型宽带住宅区接入：数字用户线（DSL）和混合光纤同轴电缆（HFC）。DSL使用频分多路复用技术，划分三个频段分别用于下载、
上传和电话信道，但是因为模拟信号容易受到干扰，不能实现长距离传输，所以使用DSL要求端系统和ISP调制解调器间的距离比传统
住宅接入的距离要小一些。HFC使用同轴电缆可以实现长距离的模拟信号传输，同时提供比DSL更大的带宽，但是同轴电缆通常是共享
带宽，所以单个端系统实际下载速率会低于HFC标注的带宽值。使用HFC作为接入媒介，端系统需要使用电缆调制解调器转换数字信
号。HFC使用光缆连接多条同轴电缆。
	公司接入：使用局域网技术，最普遍的是以太网，通过双绞线或同轴电缆连接到边缘路由器，直接传输数字信号，可以划分为传统
的共享式以太网接入技术和交换以太网接入技术。
	无线接入：短距离的基于IEEE802.11协议的接入技术，长距离的基于蜂窝电话信号接入。
	
	网络核心：分组交换机组成的网络
	数据交换的两种方式：电路交换和分组交换
	电路交换需要在通信的端系统之间建立一条连接，通信期间会占用所使用链路带宽的1/n，链路使用频分复用技术或时分复用技术
实现保持连接。时分复用是将连接总时间划分为多个片段，即时间帧，每个帧划分为固定的时间段，每一个时间段被分配给各个连接。
频分复用是将链路带宽划分为多个频段，将各个频段分配给各个连接。
	分组交换使用数据分组作为最小传输单元，以链路最大传输速率传输分组。分组交换机使用存储转发传输机制，即接收到完整的
分组后才继续传输，所以存在存储转发时延。分组交换机为每一条链路提供一个输出缓存（输出队列），以存储待转发的分组，因此
存在排队时延。如果某个链路的输出缓存被占用完了，则新到的需要该链路传输的分组会被丢弃，即所谓的丢包。
	统计多路复用：使用分组交换方式，实现多个端系统共享一条链路。
	路由转发：分组交换机使用分组携带的目的地址查询路由转发表，决定下一站的分组交换机和对应的链路。因特网上的路由器会
自动地设置路由转发表。
	ISP大致可以分为三层，第一层ISP数量较少，它们的网络通过高速链路互相连接，构成了因特网的主干网络。第二层ISP通常覆盖
一个国家或地区，通常只连接到少数第一层ISP，也可以连接到其它第二层ISP；第三层ISP被称为底层ISP，连接到一个或多个第二层
ISP，向下连接端系统。ISP与其他ISP的连接点称为汇集点（POP），是该ISP的一个或一组分组交换机。
	时延、丢包和吞吐量限制
	时延的类型：（节点）处理时延、排队时延、传输时延（存储转发时延）、传播时延。
	链路的传输速率指的是单位时间通过链路一个截面的比特量，链路的传播速率指的是链路携带比特信号的介质（如电或光）的
传播速率。链路的最大吞吐量就是分组交换机转发分组的最大传输速率。
	节点总时延是上述时延之和。
	流量强度：单位时间进入节点某一转发链路的存储队列的比特量和该链路的传输速率之比，La/R;(L:分组比特长度;a:单位时间
进入存储队列的分组数量; R:该链路的传输速率。)
	流量强度不能超过1；接近1时平均排队时延将急剧增加；接近0则排队时延减小接近0。
	由于存储队列的大小是有限的，当到达的分组无法存入该队列就会被丢弃。因此度量节点的性能也需要考虑丢包概率。
	媒体分组化时延：将数字化语音等填充分组的时间。
	端系统之间的吞吐量近似为源和目的地之间的所有链路的最小传输速率，此外还与干扰流量有关（即共享该链路的其他流量）。
现在的因特网对吞吐量的限制主要是接入网的传输速率。
	分层协议和封装：
	应用层报文被转交给运输层，运输层添加自己的首部信息后形成运输层报文段，运输层首部可能包括接收端运输层需要将该
报文段交付给的应用程序的信息、比特差错检测信息等。运输层将报文段转交给网络层，网络层添加源和目的地地址等首部信息构成
网络层数据报后转交给链路层，链路层添加首部信息构成链路层帧。每一层的分组都可以分为首部字段和有效载荷字段，有效载荷
字段通常来自于上层分组。
	
	网络攻击：
	拒绝服务攻击（DoS）：弱点攻击、带宽洪泛（常见：DDoS）、连接洪泛。
	分组嗅探：无线被动接收机（分组嗅探器）可以接收附件的分组。
	IP哄骗：将具有虚假源地址的分组注入因特网。可能是伪造一条修改路由的分组发给路由器，路由器没有能识别该分组的源地址
是伪造的而根据该分组修改了路由表。需要使用端点鉴别机制保证分组源地址不是伪造的。
	中间人攻击：受害的路由器或者端系统低层软件模块嗅探分组甚至修改分组，破坏数据完整性。
	
	计算机网络的历史：1964年提出分组交换的思想，1969年使用接口报文交换机（IMP）构建了四个节点的ARPAnet，1972年节点增加到
15个。1972年实现了第一个主机到主机的协议：网络控制协议NCP，同年开发了第一个电子邮件应用程序。其它网络开始发展，研究人员
认识到应该将这些彼此独立的网络连接起来。70年代末，TCP、IP、UDP协议基本完成。1983年TCP代替了NCP协议。80年代后期实现了
拥塞控制和DNS。90年代万维网出现，1992年开始web服务器和web浏览器开始井喷式出现。


	
	
	
	
	
	